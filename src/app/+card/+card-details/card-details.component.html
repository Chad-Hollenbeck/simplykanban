<h4 class="">
  <ol class="breadcrumb font-weight-bold m-0">
    <li class="breadcrumb-item"><a href="javascript:void(0)">Board Name</a></li>
    <li class="breadcrumb-item active">{{card.title}}</li>
  </ol>
</h4>
<!-- Header -->
<div class="container-m-nx border-right-0 border-left-0 ui-bordered mb-4">
  <div class="row no-gutters row-bordered row-border-light">
    <div class="col-md-9">
      <div class="media-body container-p-x py-2">
        <div class="d-flex justify-content-between align-items-center mb-1">
          <div><strong class="text-primary text-large">{{completedPercent()}}%</strong> completed</div>
          <!-- <div class="text-muted small">{{card.tasks - card.completedTasks}} opened tasks, {{card.completedTasks}} tasks completed</div> -->
          <div class="d-flex flex-wrap">
            <div *ngFor="let tag of card.labels" class="badge badge-{{tag.colorId}} mt-1 mr-1">{{tag.title}}</div>
          </div>

        </div>
        <ngb-progressbar [value]="completedPercent()" height="4px"></ngb-progressbar>
      </div>
    </div>
    <div class="col-md-3">
      <div class="container-p-x py-2">
        <div class="text-muted small">Status</div>
        <strong class="text-big text-muted">{{card.boardStateName}}</strong>
      </div>
    </div>
  </div>
</div>
<!-- / Header -->

<div class="row">
  <div class="col">

    <!-- Description -->
    <div class="card mb-4">
      <h6 class="card-header">Description</h6>
      <div class="card-body">
        <p>
          {{card.descrption}}
        </p>
      </div>
    </div>
    <!-- / Description -->

    <!-- Tasks -->
    <div class="card mb-4">
      <h6 class="card-header">Tasks <button type="button" class="btn btn-primary float-right btn-sm"><i class="fas
            fa-plus"></i>&nbsp; Add task</button>&nbsp;
      </h6>
      <div>
        <div class="card-body">
          <div [sortablejs]="cardTodo" [sortablejsOptions]="sortablejsOptions" class="project-task-list
            custom-controls-stacked">
            <div *ngFor="let task of cardTodo" class="project-task-item d-flex" style="justify-content:
              space-between;">

              <label class="ui-todo-item custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" [(ngModel)]="task.isComplete">
                <span class="custom-control-label">{{task.text}}</span>
              </label>

              <div class="d-flex align-items-center">
                <div class="project-task-handle fas fa-arrows-alt text-lightest text-tiny mr-3"></div>

                <div class="btn-group" ngbDropdown [placement]="!isRTL ? 'bottom-right' : 'bottom-left'">
                  <button type="button" class="btn btn-default btn-xs rounded-pill icon-btn borderless md-btn-flat
                    hide-arrow" ngbDropdownToggle><i class="fas fa-ellipsis-v"></i></button>
                  <div ngbDropdownMenu [class.dropdown-menu-right]="!isRTL">
                    <a class="dropdown-item" href="javascript:void(0)">Remove</a>
                  </div>
                </div>
              </div>

            </div>
          </div>

        </div>
      </div>
    </div>
    <!-- / Tasks -->

    <!-- Activity -->
    <div class="card mb-4">
      <h6 class="card-header">Activity <button class="float-right btn btn-default btn-sm">Comments Only</button></h6>
      <div class="card-body">

        <div *ngFor="let activity of cardActivity" class="media pb-1 mb-3">
          <div class="ui-feed-icon-container">
            <span *ngIf="activity.type === 0" class="ui-icon ui-feed-icon fas fa-plus bg-primary
              text-white"></span>
            <span *ngIf="activity.type === 1" class="ui-icon ui-feed-icon fas fa-edit bg-warning
              text-body"></span>
            <span *ngIf="activity.type === 3" class="ui-icon ui-feed-icon fas fa-paperclip bg-success text-white"></span>
            <span *ngIf="activity.type === 4" class="ui-icon ui-feed-icon far fa-user bg-info
              text-white"></span>
            <span *ngIf="activity.type === 2" class="ui-icon ui-feed-icon far fa-comment bg-info
              text-white"></span>

            <span class="ui-w-40 rounded-circle">{{activity.memberInitials}}</span>
          </div>
          <div class="media-body align-self-center ml-3">
            <div>
              <a href="javascript:void(0)">{{activity.memberName}}</a>
              {{activity.text}}</div>
            <div *ngIf="activity.type === 'pushed_commit'"><a href="javascript:void(0)">{{activity.user.name}}</a>
              pushed commit <strong>#{{activity.data.commitId}}</strong></div>
            <div *ngIf="activity.type === 'completed_task'"><a href="javascript:void(0)">{{activity.user.name}}</a>
              completed task <strong>{{activity.data.taskTitle}}</strong></div>
            <div *ngIf="activity.type === 'message'"><a href="javascript:void(0)">{{activity.user.name}}</a>
              commented <strong>{{activity.data.text}}</strong></div>
            <div *ngIf="activity.type === 'new_participant'"><a href="javascript:void(0)">{{activity.user.name}}</a>
              assigned new participant <a href="javascript:void(0)"><strong>{{activity.data.userName}}</strong></a></div>
            <div class="text-muted small">{{activity.date}} ago</div>
          </div>
        </div>

      </div>
    </div>
    <!-- / Activity -->

  </div>
  <div class="col-md-4 col-xl-3">
    <!-- Leaders -->
    <div class="card mb-4">
      <h6 class="card-header with-elements">
        <span class="card-header-title">Assigned To</span>
        <div class="card-header-elements ml-auto">
          <button type="button" class="btn btn-xs btn-outline-primary">
            <span class="fas fa-plus"></span> Add
          </button>
        </div>
      </h6>
      <ul class="list-group list-group-flush">
        <div *ngFor="let leader of card.leaders" class="list-group-item">
          <div class="media align-items-center">
            <img [src]="'assets/img/' + leader.avatar" class="d-block ui-w-30 rounded-circle" alt="">
            <div class="media-body px-2">
              <a href="javascript:void(0)" class="text-body">{{leader.name}}</a>
            </div>
            <a href="javascript:void(0)" class="d-block text-light text-large font-weight-light">&times;</a>
          </div>
        </div>
      </ul>
    </div>
    <!-- / Leaders -->
    <!-- Project details -->
    <div class="card mb-4">
      <h6 class="card-header">Project details<button type="button" class="btn btn-info float-right btn-sm"><i
            class="fas
            fa-plus"></i>&nbsp; Edit</button></h6>
      <ul class="list-group list-group-flush">
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Contact</div>
          <div><a href="javascript:void(0)">{{card.client.name}}</a></div>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Created at</div>
          <div>{{card.created}}</div>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Last update</div>
          <div>{{card.lastUpdate}}</div>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Deadline</div>
          <div><strong>{{card.deadline}}</strong></div>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Priority</div>
          <div class="btn-group" ngbDropdown [placement]="!isRTL ? 'bottom-right' : 'bottom-left'">
            <button type="button" class="btn btn-xs md-btn-flat"
              [ngClass]="priorityDropdownVariant(card.priority)" ngbDropdownToggle>
              <span *ngIf="card.priority === 1">High</span>
              <span *ngIf="card.priority === 2">Medium</span>
              <span *ngIf="card.priority === 3">Low</span>
            </button>
            <div ngbDropdownMenu [class.dropdown-menu-right]="!isRTL">
              <a class="dropdown-item" href="javascript:void(0)" [ngClass]="{active: card.priority === 1}">High</a>
              <a class="dropdown-item" href="javascript:void(0)" [ngClass]="{active: card.priority === 2}">Medium</a>
              <a class="dropdown-item" href="javascript:void(0)" [ngClass]="{active: card.priority === 3}">Low</a>
            </div>
          </div>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Estimated Hours</div>
          <div>{{card.hours}}</div>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="text-muted">Total hours</div>
          <div>{{card.hours + 10}}</div>
        </li>
      </ul>
    </div>
    <!-- / Project details -->

    <!-- Attached files -->
    <div *ngIf="card.attachments && card.attachments.length" class="card mb-4">
      <h6 class="card-header">Attached files <button type="button" class="btn btn-primary float-right btn-sm"><i
            class="fas
            fa-plus"></i>&nbsp; Add file</button></h6>
      <div class="card-body p-3">
        <div class="row no-gutters">
          <div *ngFor="let attachment of card.attachments" class="col-md-6 p-1">

            <div class="project-attachment ui-bordered p-2">
              <!-- <div *ngIf="isImage(attachment)" [style.backgroundImage]="'url(\'' + attachment.path + '\')'" class="project-attachment-img"></div>
              <div *ngIf="isFile(attachment)" class="project-attachment-file display-4"><i [ngClass]="fileIcon(attachment)"></i></div> -->
              <div class="media-body ml-3">
                <strong class="project-attachment-filename">{{attachment.name}}</strong>
                <div class="text-muted small">{{attachment.size}}</div>
                <div>
                  <span *ngIf="isImage(attachment)"><a href="javascript:void(0)">View</a> &nbsp;</span>
                  <a href="javascript:void(0)">Download</a>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
    <!-- / Attached files -->


  </div>
</div>
